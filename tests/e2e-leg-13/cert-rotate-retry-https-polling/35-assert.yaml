apiVersion: v1
kind: Event
reason: HTTPSTLSUpdateStarted
source:
  component: verticadb-operator
involvedObject:
  apiVersion: vertica.com/v1
  kind: VerticaDB
  name: v-cert-rotate-rollback-retry-polling
message: Starting tls cert rotation for HTTP with secret name custom-cert1 and mode verify_ca
---
apiVersion: v1
kind: Event
reason: HTTPSTLSUpdateRetry
source:
  component: verticadb-operator
involvedObject:
  apiVersion: vertica.com/v1
  kind: VerticaDB
  name: v-cert-rotate-rollback-retry-polling
message: Retrying HTTPS polling after failure, attempt 1 of 2 for secret custom-cert1
---
apiVersion: v1
kind: Event
reason: HTTPSTLSUpdateRetry
source:
  component: verticadb-operator
involvedObject:
  apiVersion: vertica.com/v1
  kind: VerticaDB
  name: v-cert-rotate-rollback-retry-polling
message: Retrying HTTPS polling after failure, attempt 2 of 2 for secret custom-cert1
---
apiVersion: v1
kind: Event
reason: HTTPSTLSUpdateFailed
source:
  component: verticadb-operator
involvedObject:
  apiVersion: vertica.com/v1
  kind: VerticaDB
  name: v-cert-rotate-rollback-retry-polling
---
apiVersion: v1
kind: Event
reason: TLSCertRollbackStarted
source:
  component: verticadb-operator
involvedObject:
  apiVersion: vertica.com/v1
  kind: VerticaDB
  name: v-cert-rotate-rollback-retry-polling
message: Starting HTTP TLS cert rollback after failed update
---
apiVersion: v1
kind: Event
reason: TLSCertRollbackSucceeded
source:
  component: verticadb-operator
involvedObject:
  apiVersion: vertica.com/v1
  kind: VerticaDB
  name: v-cert-rotate-rollback-retry-polling
message: HTTP TLS cert rollback completed successfully
---
apiVersion: vertica.com/v1
kind: VerticaDB
metadata:
  name: v-cert-rotate-rollback-retry-polling
spec:
  httpsNMATLS:
    secret: custom-cert
status:
  conditions:
  - reason: Detected
    status: "True"
    type: AutoRestartVertica
  - reason: Initialized
    status: "True"
    type: DBInitialized
  - reason: Completed
    status: "False"
    type: TLSConfigUpdateInProgress 
  - reason: Completed
    status: "False"
    type: HTTPSTLSConfigUpdateFinished  
  - reason: Completed
    status: "False"
    type: TLSCertRollbackNeeded
  - reason: Completed
    status: "False"
    type: TLSCertRollbackInProgress
  subclusters:
    - addedToDBCount: 3
      upNodeCount: 3
  tlsConfigs:
    - name: httpsNMA
      secret: custom-cert
    - name: clientServer